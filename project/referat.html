<!DOCTYPE html>
<html lang="bg">

    <head>
        <meta charset="utf-8" />
        <title>Криптиране, хеширане и посоляване</title>

        <link rel="stylesheet" href="css/styles.css" />
        <link rel="stylesheet" href="css/ceaser_shift.css" />
        <link rel="stylesheet" href="css/frequency_analyzer.css" />
        <link rel="stylesheet" href="css/ceaser_key.css" />
    </head>

    <body>
        <h1>Криптиране, хеширане и посоляване</h1>
        <h4>Тема 148</h3>

        <p><strong>Внимание!! Хешът на качения CSS не отговаря на очакваната
                стойност! Премахваме всякакъв дизайн!</strong></p>

        <h2>Неща за довършване</h2>
        <ul>
            <li>допълване на темата за криптиране</li>
            <li>добавяне на тема за хеширане</li>
            <li>посоляване и подлютяване.</li>
            <li>спазване на добрите практики в CSS</li>
            <li>спазване на добрите практики в JS</li>
            <li>групиране на елементите в логически свързани контейнери</li>
            <li>прилагане на responsive CSS стил</li>
            <li>оптимизиране на JS кода</li>
            <li>прилагане на по-хубав CSS - може би.</li>
        </ul>

        <h2>Въведение</h2>
        <p>
            Всеки човек, използващ интернет, се е сблъсквал с процесите по
            криптиране и хеширане на информация, но може
            би
            единствено изучените програмисти знаят какви процеси стоят зад тези
            сложни термини.
        </p>
        <p>
            Криптирането е основен процес при сигурния трансфер на данни,
            използван в комуникацията между повечето
            модерни
            устройства. Предаваната информация се криптира, така че единствено
            желаният получател да може да разтълкува
            съдържанието й. Така зловредни опити за разчитане на информацията
            при процеса на трансфер биват напрактика
            безполезни. Пример за това би било при плащане с банкова карта,
            външно лице да се опита да извлече банковата
            ни
            информация, проследявайки криптираните данни от транзакцията.
        </p>
        <p>
            При хеширането основният проблем, който се
            разрешава, е проверката за интегритет (цялост) на дадени данни.
            Стойността получена при хеширането на дадени
            данни е уникална, като всяка малка промяна в данните води до напълно
            различна хеш стойност. Освен това
            хеширането не е обратим процес за разлика от криптирането т.е. при
            наличие на хеш стойността не можем да
            възстановим първоначалния вид на данните. Така например безопасно
            могат да се съхраняват пароли чрез тяхната
            уникална хеш стойност без притеснения, че хакер получил достъп до
            базата, ще получи достъп и до акаунтите на
            потребителите </p>

        <p>Но какво ще стане, ако хакерът в горния пример забележи, че в базата
            с хешираните пароли има еднакви
            стойности?
            Това би подсказало на хакера, че съответните потребители използват
            често срещани пароли. Всеки уважаващ себе
            си
            хакер би успял да разбие тези лесни пароли за отрицателно време. За
            да се предотврати този проблем, повечето
            модерни апликации използват техниката посоляване. Посоляването е
            процесът по прибавяне на допълнителна
            последователност от символи към потребителската парола преди процеса
            на хеширане. Така двама потребители с
            еднаква парола, ще имат различни хеш стойности в базата данни, което
            значително усложнява работата на
            злонамерените хакери.</p>

        <p>Нека разгледаме по-подробно гореописаните понятия.</p>

        <h2>Криптиране</h2>

        <p>Криптирането не е процес, който навлиза в употреба с появата на
            компютрите. Исторически данни показват, че още древните египтяни са
            използвали система за промяна текстове си, така че само избрани лица
            от аристокрацията да разберат значението им.</p>

        <h3>Шифърът на Цезар</h3>

        <p>Един от най-известните ранни шифъри е този използван от римския
            император Юлий Цезар. Цезар е използвал примитивна версия на "Shift"
            шифър, за да води скрита от враговете си кореспонденция. Шифърът на
            Цезар взема дадено съобщение и заменя всяка самостоятелна буква в
            него с буквата на 3 позиции напред в азбуката.
        </p>
        <p>Например в криптирано съобщение думата "война" ще бъде заменена с
            "есмрг", тъй като на буквата "в" отговаря буквата "е", на "о" - "с"
            и т.н. Когато получателят види криптираното съобщение той трябва да
            използва обратния процес декриптиране, за да разбере съдържанието
            му. Това изисква предварителна "уговорка" между двете лица, тоест
            криптиращия участник трябва да сподели метода на декриптиране на
            своя събеседник преди започване на криптираната комуникация.</p>
        <p>В нашия пример съобщението "есмрг" ще бъде декодирано, като за всяка
            негова буква бъде заменена с тази на 3 позиция преди нея в азбуката.
            Това е обратният процес на операцията по кодиране. С
            по-математически термини, ако представим буквите от азбуката чрез
            числата от 0 до 29 (A е 0, Б е 1, ..., Я е 29), то функцията на
            кодиране е "Fn(x) = (x + n) mod 30", където n е броят измествания
            надясно (при Цезаровия шифър n = 3). Функцията за Декориране
            "Gn(x) = (x - n) mod 30".</p>

        <h4>Цезаров шифър в действие</h4>
        <div class="container">
            <label for="alphabetSelect">Азбука на съобщението:</label>
            <select id="alphabetSelect"
                onchange="updateShift(document.getElementById('shiftRange').value)">
                <option value="cyrillic">Кирилица</option>
                <option value="latinic">Латиница</option>
            </select>
            <div>Стойност на преместването: <span id="shiftValue">0</span></div>
            <input type="range" min="-29" max="29" value="0" id="shiftRange"
                oninput="updateShift(this.value)">
            <label for="textInput">Съобщение за кодиране:</label>
            <input type="text" id="textInput" placeholder="Въведете текст..."
                oninput="encodeText(document.getElementById('shiftRange').value)">
            <div class="letters-container">
                <div class="row" id="originalLettersContainer">
                    <!-- JavaScript ще попълни това с оригинални букви -->
                </div>
                <div class="row" id="encodedLettersContainer">
                    <!-- JavaScript ще попълни това с кодирани букви -->
                </div>
            </div>
            <div class="encoded-text" id="encodedText"></div>
        </div>

        <script src="javascript/ceaser_shift.js"></script>

        <h3>Разбиване на криптиращ алгоритъм</h3>
        <p>Ефективността на един шифър или алгоритъм за криптиране се определя
            чрез времето нужно за разгадаването му - разбиването на ключа.
            Алгоритъмът на Цезар, колкото и примитивен да изглежда, е бил
            разгадан едва след 9 века от арабски учен. Въпреки това, ако е
            известен метода за изместване на азбуката с дадено число, то са
            нужни 30 на броя опита, за да се разгадае ключа, равен на 3. </p>
        <p>Съществуват различни вариации на шифъра на Цезар, които се опитват да
            увеличат сложността на алгоритъма. Ако се използва индивидуално
            подреждане, такова че всяка буква отговаря на произволна друга
            възможните комбинации за ключ стават 26!. Това е число с 26 нули,
            което би довело читателя до мисълта, че този шифър би бил
            неразбиваем. Това ще е вярно, ако се използва наивен "brute force"
            метод за решаването на проблема.</p>
        <p>При анализирането на даден криптиращ алгоритъм повече на брой
            ключове, не винаги значи по-сигурен алгоритъм. Съществуват техники
            като семантичния анализ, които лесно разбиват семейството от шифъри,
            произлизащи от Цезаровия. Семантичният анализ проверява колко често
            се среща всяка буква в шифрованото съобщение. Това носи изключително
            много информация за възможните ключове, тъй като най-срещаните букви
            в езика, ще отговарят на най-срещаните букви в криптираното
            съобщение.</p>
        <p>Например петте най-често срещаните букви в българския език са "А",
            "И", "О", "Е" и "Н". Нека си представим как сме шпиони, които са се
            добрали до кодираното съобщение
            "ЧА КУЕ ЖЧРЮДЗ ЖЧ ИЮЛЖЧЬЮКЮЛ ОБДЦЬЖЧ ЧЙЕБЦ Б ИУЛМЩЧЕ ГУЕ ЩЧК" и
            искаме да го разгадаем. Ако анализираме броя срещания на всяка буква
            ще забележим, че най-често срещана в съобщението е буквата "Ч",
            следвана от "Е", "Ж", "Ю". Много по-вероятно е кодираната буква "Ч"
            да отговаря на "А" в реалното съобщение, отколкото на буквата "Щ"
            например. </p>

        <p>Съобщението е:
            "АЗ СЪМ НАЧЕЛО НА ПЕТНАДЕСЕТ ХИЛЯДНА АРМИЯ И ПЪТУВАМ КЪМ ВАС"
        </p>

        <h4>Анализатор на честотата на символите</h4>
        <p>Въведете текст по-долу, за да анализирате честотата на всеки
            символ:</p>

        <textarea id="inputText" placeholder="Въведете текст тук..."></textarea>
        <button onclick="analyzeText()">Анализирай текста</button>

        <div id="results"></div>

        <script src="javascript/frequency_analyzer.js"></script>

        <h3>Криптиращи ключове</h3>
        <p>Друг примерен вариант е Шифърът на Виженер. Нека си представим ключа
            на обикновения шифър на Цезар, като една буква - примерно ключ "Г".
            Това ще означава, че местим всяка буква от оригиналното съобщение с
            3 позиции напред, тъй като буквата "Г" е третата буква в азбуката,
            ако започнем броенето от 0. Горният вариант на шифър, където всяка
            буква сочи към друга буква, има ключ с дължина 30 - на всяка буква
            от азбуката показваме с колко да се измести чрез друга буква от
            азбуката. Тогава Шифърът на Виженер може да има ключ с произволна
            дължина.</p>
        <p>Например ключа "ГБК" означава, че първата буква в нашето съобщение ще
            бъде преместена с 3 позиции напред, тъй като "Г" е третата буква от
            азбуката, като започнем от 0. Следващата буква в нашето съобщение ще
            бъде криптирана чрез изместването й на 1 позиция напред в азбуката
            ("Б" = 1). Третата буква в нашето съобщение ще бъде изместена с 10
            позиции напред ("К" = 10). След това повтаряме процеса по
            криптиране, като започваме от четвъртата буква на съобщението и
            първия символ на ключа.</p>
        <p>Нека криптираме съобщението "ЗАПОЧВАМЕ ВОЙНА" с ключа "ГБК". Това се
            получава, като заместим "З" с буквата 3 позиции напред - "К", поради
            ключа "Г", после "А" с "Б" заради "Б", "П" с "Щ" заради "К", "О" със
            "С" заради "Г" и т.н. Крайният резултат от криптиращия алгоритъм е
            низът "КБЩСШМГНП ЕПУРБ".</p>
        <p>Шифърът на Виженер на пръв поглед се справя с проблема с често
            повтарящите се букви. В зависимост от дължината на ключа един път
            буквата "А" може да се превърне в "Б", друг път в "С". Така
            семантичния анализ изглежда няма да помогне при анализиране на
            криптиращия алгоритъм. Това обаче не е напълно вярно. Съществуват
            множество алгоритми, чрез които може да се определи дължината на
            ключа. Когато веднъж знаем дължината на ключа, разбиването на шифъра
            на Виженер се свежда до това да разбием няколко на брой
            последователни Цезарови шифъра. Като дори тогава можем да използваме
            семантично изследване във всеки един отделен шифър.
        </p>

        <h4>Криптиране с ключ</h4>
        <textarea id="messageInputKey"
            placeholder="Въведи съобщение за криптиране..."></textarea>
        <input type="text" id="keyInputKey" placeholder="Въведи ключа...">
        <select id="alphabetSelectKey">
            <option value="cyrillic">Кирилица</option>
            <option value="latin">Латиница</option>
        </select>
        <button onclick="encryptKey()">Криптирай</button>
        <textarea id="resultKey" readonly></textarea>

        <script src="javascript/ceaser_key.js"></script>
        <h3>Модерни криптиращи алгоритми</h3>
        <p>развитие на темата...</p>
        <h2>Хеширане</h2>
        <p>
            За разлика от криптирането, хеширането е необратим процес...</p>
        <h2>Посоляване и подлютяване</h2>
        <p>Недейте соля много.</p>

        <h2>Източници:</h2>
        <ul>
            <li><a
                    href="https://en.m.wikipedia.org/wiki/Pepper_(cryptography)">https://en.m.wikipedia.org/wiki/Pepper_(cryptography)</a></li>
            <li><a
                    href="https://www.php.net/manual/en/function.password-hash.php">https://www.php.net/manual/en/function.password-hash.php</a></li>
            <li><a
                    href="https://www.thesslstore.com/blog/difference-encryption-hashing-salting/">https://www.thesslstore.com/blog/difference-encryption-hashing-salting/</a></li>
            <li><a
                    href="https://www.comparitech.com/blog/information-security/encryption-hashing-salting/">https://www.comparitech.com/blog/information-security/encryption-hashing-salting/</a></li>
            <li><a
                    href="https://cybernews.com/security/hashing-vs-encryption/">https://cybernews.com/security/hashing-vs-encryption/</a></li>
            <li><a
                    href="https://en.wikipedia.org/wiki/Caesar_cipher">https://en.wikipedia.org/wiki/Caesar_cipher</a></li>
            <li><a
                    href="https://www.csfieldguide.org.nz/en/chapters/coding-encryption/substitution-ciphers/">https://www.csfieldguide.org.nz/en/chapters/coding-encryption/substitution-ciphers/</a></li>
            <li><a
                    href="http://simia.net/letters/">http://simia.net/letters/</a></li>
        </ul>

        <blockquote>"ТС-ЗСДУИ ЦЙГФИР НУГМ, СХНСОНСХС ЦЙГФ ДИК НУГМ."
            ~ЩИКГУ
        </blockquote>
    </body>

</html>